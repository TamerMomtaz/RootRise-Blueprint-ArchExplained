# RootRise Diagnostic Report Templates
## Version 1.0 | December 2025

---

# Table of Contents

1. [Template Overview](#1-template-overview)
2. [Design System Integration](#2-design-system-integration)
3. [Executive Summary Template](#3-executive-summary-template)
4. [Full Diagnostic Report Template](#4-full-diagnostic-report-template)
5. [Component Library](#5-component-library)
6. [PDF Generation & Implementation](#6-pdf-generation--implementation)

---

# 1. Template Overview

## 1.1 Purpose

These templates define the visual output format for RootRise diagnostic reports generated by The Tufte (Report Architect) agent. Reports embody the &I Philosophy by clearly distinguishing AI-generated insights from human-provided context.

## 1.2 Report Types

| Type | Pages | Use Case | Generation Time |
|------|-------|----------|-----------------|
| **Executive Summary** | 2-3 | Quick overview, investor pitches | ~30 seconds |
| **Full Diagnostic** | 10-15 | Comprehensive analysis | ~2 minutes |
| **Sector Benchmarking** | 4-6 | Industry comparison focus | ~1 minute |
| **Action Plan** | 3-4 | Implementation roadmap | ~45 seconds |

## 1.3 &I Philosophy in Reports

Every report must clearly communicate:

| Element | How It's Shown |
|---------|----------------|
| **AI Confidence** | Color-coded confidence badges on findings |
| **Human Context** | Highlighted callout boxes with distinct styling |
| **Data Sources** | Attribution footnotes on benchmarks |
| **Uncertainty** | Explicit acknowledgment of data gaps |
| **Override History** | Section showing human corrections (if any) |

---

# 2. Design System Integration

## 2.1 Color Palette (from Ruba's System)

```css
:root {
  /* Primary Brand - Bronze/Gold */
  --color-bronze: #B8904A;
  --color-bronze-light: #C4965F;
  --color-bronze-dark: #9D7E3A;
  
  /* Dark Mode Backgrounds */
  --color-navy-dark: #0F1419;
  --color-blue-gray: #1E2F3E;
  --color-section-dark: #2B3F52;
  
  /* Accent - Bright Teal */
  --color-teal-bright: #5DD4C3;
  --color-teal-deep: #2A5C5C;
  
  /* Light Mode Backgrounds */
  --color-cream: #F5F1E8;
  --color-cream-subtle: #EDE8DD;
  --color-white: #FFFFFF;
  --color-beige-section: #E8E3D8;
  --color-border-light: #D4CFC4;
  
  /* Text Colors */
  --color-text-primary: #000000;
  --color-text-secondary: #2C2C2C;
  --color-text-muted: #666666;
  
  /* Semantic Colors */
  --color-success: #2D8F5E;
  --color-success-bg: #E8F5EE;
  --color-warning: #D4A04A;
  --color-warning-bg: #FFF8E8;
  --color-danger: #C54B4B;
  --color-danger-bg: #FDEEEE;
  --color-info: #4A8FC5;
  --color-info-bg: #EEF5FD;
  
  /* Confidence Level Colors */
  --confidence-high: #2D8F5E;      /* 80-100% */
  --confidence-medium: #D4A04A;    /* 60-79% */
  --confidence-low: #C54B4B;       /* Below 60% */
}
```

## 2.2 Typography

```css
.report {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  font-size: 11pt;
  line-height: 1.6;
  color: var(--color-text-primary);
}

.report-title {
  font-size: 28pt;
  font-weight: 700;
  color: var(--color-navy-dark);
}

.section-title {
  font-size: 18pt;
  font-weight: 600;
  color: var(--color-bronze-dark);
  border-left: 4px solid var(--color-bronze);
  padding-left: 12px;
}

/* Arabic Support */
.report[lang="ar"] {
  font-family: 'IBM Plex Sans Arabic', sans-serif;
  direction: rtl;
  text-align: right;
}

.report[lang="ar"] .section-title {
  border-left: none;
  border-right: 4px solid var(--color-bronze);
  padding-left: 0;
  padding-right: 12px;
}
```

## 2.3 Score Classification

```javascript
// Score class helper
function getScoreClass(score) {
  if (score >= 80) return 'excellent';
  if (score >= 65) return 'good';
  if (score >= 50) return 'average';
  return 'needs-work';
}

// Confidence class helper  
function getConfidenceClass(confidence) {
  if (confidence >= 80) return 'high';
  if (confidence >= 60) return 'medium';
  return 'low';
}
```

---

# 3. Executive Summary Template

## 3.1 Structure (2-3 Pages)

### Page 1: Cover & Overview

```html
<!-- Cover Section -->
<header class="cover-section">
  <div class="cover-logo">
    <img src="rootrise-logo.svg" alt="RootRise" />
  </div>
  
  <div class="cover-content">
    <span class="report-type-badge">Executive Summary</span>
    <h1 class="report-title">Business Diagnostic Report</h1>
    <h2 class="company-name">{{company_name}}</h2>
    
    <div class="cover-meta">
      <div class="meta-item">
        <span class="meta-label">Sector</span>
        <span class="meta-value">{{sector_name}}</span>
      </div>
      <div class="meta-item">
        <span class="meta-label">Country</span>
        <span class="meta-value">{{country_name}}</span>
      </div>
      <div class="meta-item">
        <span class="meta-label">Date</span>
        <span class="meta-value">{{report_date}}</span>
      </div>
    </div>
  </div>
  
  <div class="ai-human-badge">
    <span>ğŸ¤–</span>
    <span>+</span>
    <span>ğŸ‘¤</span>
    <span>AI + Human Collaboration</span>
  </div>
</header>
```

### Page 2: Health Score & Key Findings

```html
<!-- Overall Health Score -->
<section class="health-score-section">
  <h2 class="section-title">Overall Business Health</h2>
  
  <div class="score-display">
    <div class="score-circle {{overall_score_class}}">
      <span class="score-value">{{overall_score}}</span>
      <span class="score-max">/100</span>
    </div>
    <div class="score-label">{{overall_rating_label}}</div>
    <div class="confidence-indicator">
      Confidence: <span class="confidence-{{overall_confidence_class}}">{{overall_confidence}}%</span>
    </div>
  </div>
  
  <!-- Dimension Scores Grid -->
  <div class="dimension-grid">
    {{#each dimensions}}
    <div class="dimension-item">
      <span class="dimension-name">{{name}}</span>
      <span class="dimension-score {{score_class}}">{{score}}</span>
      <div class="dimension-bar">
        <div class="bar-fill {{score_class}}" style="width: {{score}}%"></div>
      </div>
      <span class="dimension-confidence">{{confidence}}% conf.</span>
    </div>
    {{/each}}
  </div>
</section>

<!-- Key Findings -->
<section class="key-findings-section">
  <h2 class="section-title">Key Findings</h2>
  
  <!-- Strengths (Green) -->
  <div class="findings-group strengths">
    <h3><span class="icon">âœ“</span> Strengths</h3>
    <ul>
      {{#each strengths}}
      <li>
        <span class="finding-text">{{text}}</span>
        {{#if has_human_context}}<span class="human-indicator" title="{{human_context}}">ğŸ‘¤</span>{{/if}}
        <span class="finding-confidence confidence-{{confidence_class}}">{{confidence}}%</span>
      </li>
      {{/each}}
    </ul>
  </div>
  
  <!-- Areas for Improvement (Yellow) -->
  <div class="findings-group improvements">
    <h3><span class="icon">!</span> Areas for Improvement</h3>
    <ul>
      {{#each improvements}}
      <li>
        <span class="finding-text">{{text}}</span>
        {{#if has_human_context}}<span class="human-indicator">ğŸ‘¤</span>{{/if}}
        <span class="finding-confidence confidence-{{confidence_class}}">{{confidence}}%</span>
      </li>
      {{/each}}
    </ul>
  </div>
  
  <!-- Critical Issues (Red, if any) -->
  {{#if has_critical_issues}}
  <div class="findings-group critical">
    <h3><span class="icon">âš </span> Critical Issues</h3>
    <ul>
      {{#each critical_issues}}
      <li class="critical-item">
        <span class="finding-text">{{text}}</span>
        <span class="recommended-action">Action: {{action}}</span>
      </li>
      {{/each}}
    </ul>
  </div>
  {{/if}}
</section>
```

### Page 3: Recommendations & Human Context

```html
<!-- Top Recommendations -->
<section class="recommendations-section">
  <h2 class="section-title">Top Recommendations</h2>
  
  {{#each top_recommendations}}
  <div class="recommendation-card priority-{{priority}}">
    <div class="recommendation-header">
      <span class="priority-badge">{{priority_label}}</span>
      <span class="recommendation-title">{{title}}</span>
    </div>
    <p class="recommendation-description">{{description}}</p>
    <div class="recommendation-details">
      <span class="detail">Impact: {{impact}}</span>
      <span class="detail">Timeframe: {{timeframe}}</span>
      <span class="detail">Investment: {{investment}}</span>
    </div>
    <span class="recommendation-confidence confidence-{{confidence_class}}">
      Confidence: {{confidence}}%
    </span>
  </div>
  {{/each}}
</section>

<!-- Human Context Section -->
{{#if has_human_context}}
<section class="human-context-section">
  <h2 class="section-title">ğŸ‘¤ Your Context Considered</h2>
  
  <div class="human-context-callout">
    <p class="callout-intro">The following context you provided was factored into this analysis:</p>
    <ul class="context-list">
      {{#each human_context_items}}
      <li>
        <span class="context-category">{{category}}:</span>
        <span class="context-text">"{{text}}"</span>
      </li>
      {{/each}}
    </ul>
  </div>
</section>
{{/if}}

<!-- Data Quality Notice -->
<section class="data-quality-section">
  <h2 class="section-title">Data Quality</h2>
  <div class="quality-bar">
    <span class="quality-label">Data Completeness:</span>
    <div class="bar-container">
      <div class="bar-fill {{data_completeness_class}}" style="width: {{data_completeness}}%">
        {{data_completeness}}%
      </div>
    </div>
  </div>
  
  {{#if has_data_gaps}}
  <div class="data-gaps">
    <p>The following areas had limited data:</p>
    <ul>
      {{#each data_gaps}}
      <li>{{this}}</li>
      {{/each}}
    </ul>
  </div>
  {{/if}}
</section>

<!-- Footer -->
<footer class="report-footer">
  <div class="powered-by">
    Powered by <img src="rootrise-logo-small.svg" alt="RootRise" />
  </div>
  <div class="disclaimer">
    This diagnostic report is generated by AI with human context. 
    Recommendations should be validated with qualified advisors.
  </div>
  <div class="report-id">Report ID: {{report_id}}</div>
</footer>
```

---

# 4. Full Diagnostic Report Template

## 4.1 Structure (10-15 Pages)

| Section | Pages | Content |
|---------|-------|---------|
| Cover | 1 | Company info, report type |
| Table of Contents | 1 | Navigation |
| Executive Summary | 1 | Condensed overview |
| Overall Assessment | 1-2 | Radar chart, dimension breakdown |
| Detailed Findings | 4-6 | Per-agent analysis |
| Sector Benchmarking | 1-2 | Comparison tables |
| Recommendations | 2-3 | Prioritized actions |
| Action Plan | 1 | Timeline, resources |
| Methodology | 1 | Confidence explanation |
| Appendices | 1-2 | Score breakdown, glossary |

## 4.2 Key Sections

### Detailed Findings by Agent

```html
<section id="detailed-findings" class="report-section">
  <h2 class="section-title">3. Detailed Findings</h2>
  
  {{#each agent_findings}}
  <article id="{{agent_id}}" class="agent-section">
    <!-- Agent Header -->
    <div class="agent-header">
      <div class="agent-info">
        <span class="agent-icon">{{icon}}</span>
        <div class="agent-titles">
          <h3 class="agent-name">{{name}}</h3>
          <span class="agent-subtitle">{{subtitle}}</span>
        </div>
      </div>
      <div class="agent-score {{score_class}}">
        <span class="score-value">{{score}}</span>
        <span class="score-label">{{score_label}}</span>
      </div>
    </div>
    
    <!-- Agent Narrative -->
    <div class="agent-narrative">
      <p>{{narrative}}</p>
    </div>
    
    <!-- Findings Cards -->
    <div class="agent-findings">
      <h4>Findings</h4>
      
      {{#each findings}}
      <div class="finding-card {{type}}">
        <div class="finding-header">
          <span class="finding-type-badge">{{type_label}}</span>
          <span class="finding-confidence confidence-{{confidence_class}}">
            Confidence: {{confidence}}%
          </span>
        </div>
        <div class="finding-body">
          <h5 class="finding-title">{{title}}</h5>
          <p class="finding-description">{{description}}</p>
          
          {{#if has_evidence}}
          <div class="finding-evidence">
            <span class="evidence-label">Evidence:</span>
            <ul>{{#each evidence}}<li>{{this}}</li>{{/each}}</ul>
          </div>
          {{/if}}
          
          {{#if has_benchmark}}
          <div class="finding-benchmark">
            <span>Sector Benchmark:</span>
            <span class="benchmark-value">{{benchmark}}</span>
            <span class="benchmark-source">({{benchmark_source}})</span>
          </div>
          {{/if}}
        </div>
        
        {{#if has_human_context}}
        <div class="finding-human-context">
          <span class="human-icon">ğŸ‘¤</span>
          <span class="context-label">Your Context:</span>
          <span class="context-text">"{{human_context}}"</span>
        </div>
        {{/if}}
      </div>
      {{/each}}
    </div>
    
    <!-- Agent Recommendations -->
    <div class="agent-recommendations">
      <h4>Recommendations from {{name}}</h4>
      {{#each recommendations}}
      <div class="recommendation-mini priority-{{priority}}">
        <span class="rec-number">{{@index_plus_one}}</span>
        <span class="rec-title">{{title}}</span>
        <span class="rec-impact">{{impact}}</span>
      </div>
      {{/each}}
    </div>
  </article>
  {{/each}}
</section>
```

### Sector Benchmarking Section

```html
<section id="benchmarking" class="report-section">
  <h2 class="section-title">4. Sector Benchmarking</h2>
  
  <div class="benchmark-context">
    <div class="context-item">
      <span class="label">Sector:</span>
      <span class="value">{{sector_name}}</span>
    </div>
    <div class="context-item">
      <span class="label">Company Size:</span>
      <span class="value">{{company_size_band}}</span>
    </div>
    <div class="context-item">
      <span class="label">Region:</span>
      <span class="value">{{region_name}}</span>
    </div>
  </div>
  
  <table class="benchmark-table">
    <thead>
      <tr>
        <th>Metric</th>
        <th>Your Value</th>
        <th>Sector Median</th>
        <th>Top Quartile</th>
        <th>Your Position</th>
      </tr>
    </thead>
    <tbody>
      {{#each benchmarks}}
      <tr>
        <td class="metric-name">{{name}}</td>
        <td class="your-value">{{your_value}}</td>
        <td class="sector-median">{{sector_median}}</td>
        <td class="top-quartile">{{top_quartile}}</td>
        <td class="position">
          <span class="position-badge {{position_class}}">{{position_label}}</span>
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>
  
  <!-- Data Sources -->
  <div class="benchmark-sources">
    <h4>Data Sources</h4>
    <ul>
      {{#each benchmark_sources}}
      <li>{{name}} ({{date}})</li>
      {{/each}}
    </ul>
  </div>
</section>
```

### Action Plan Timeline

```html
<section id="action-plan" class="report-section">
  <h2 class="section-title">6. Action Plan</h2>
  
  <div class="action-timeline">
    <h3>Implementation Timeline</h3>
    
    <div class="timeline">
      {{#each timeline_phases}}
      <div class="timeline-phase">
        <div class="phase-header">
          <span class="phase-period">{{period}}</span>
          <span class="phase-label">{{label}}</span>
        </div>
        <div class="phase-actions">
          {{#each actions}}
          <div class="timeline-action priority-{{priority}}">
            <span class="action-marker"></span>
            <span class="action-text">{{text}}</span>
          </div>
          {{/each}}
        </div>
      </div>
      {{/each}}
    </div>
  </div>
  
  <div class="resource-requirements">
    <h3>Resource Requirements</h3>
    <div class="resources-grid">
      <div class="resource-card">
        <span class="resource-icon">ğŸ’°</span>
        <span class="resource-label">Total Investment</span>
        <span class="resource-value">{{total_investment_range}}</span>
      </div>
      <div class="resource-card">
        <span class="resource-icon">ğŸ‘¥</span>
        <span class="resource-label">Team Involvement</span>
        <span class="resource-value">{{team_involvement}}</span>
      </div>
      <div class="resource-card">
        <span class="resource-icon">â°</span>
        <span class="resource-label">Total Duration</span>
        <span class="resource-value">{{total_duration}}</span>
      </div>
    </div>
  </div>
  
  <div class="success-metrics">
    <h3>Success Metrics</h3>
    <table class="metrics-table">
      <thead>
        <tr>
          <th>Metric</th>
          <th>Current</th>
          <th>3-Month Target</th>
          <th>12-Month Target</th>
        </tr>
      </thead>
      <tbody>
        {{#each success_metrics}}
        <tr>
          <td>{{name}}</td>
          <td>{{current}}</td>
          <td>{{target_3m}}</td>
          <td>{{target_12m}}</td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</section>
```

---

# 5. Component Library

## 5.1 Score Badge

```html
<span class="score-badge {{size}} {{score_class}}">{{score}}</span>
```

```css
.score-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  border-radius: 4px;
}

.score-badge.small { font-size: 10pt; padding: 2px 6px; }
.score-badge.medium { font-size: 14pt; padding: 4px 12px; }
.score-badge.large { font-size: 24pt; padding: 8px 20px; }

.score-badge.excellent { background: var(--color-success-bg); color: var(--color-success); }
.score-badge.good { background: rgba(93, 212, 195, 0.15); color: var(--color-teal-deep); }
.score-badge.average { background: var(--color-warning-bg); color: var(--color-warning); }
.score-badge.needs-work { background: var(--color-danger-bg); color: var(--color-danger); }
```

## 5.2 Confidence Indicator

```html
<div class="confidence-indicator {{confidence_class}}">
  <span class="confidence-label">Confidence:</span>
  <span class="confidence-value">{{confidence}}%</span>
  <span class="confidence-bar">
    <span class="bar-fill" style="width: {{confidence}}%"></span>
  </span>
</div>
```

```css
.confidence-indicator {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 9pt;
}

.confidence-indicator.high .confidence-value { color: var(--confidence-high); }
.confidence-indicator.medium .confidence-value { color: var(--confidence-medium); }
.confidence-indicator.low .confidence-value { color: var(--confidence-low); }

.confidence-bar {
  width: 40px;
  height: 4px;
  background: var(--color-cream);
  border-radius: 2px;
  overflow: hidden;
}

.confidence-indicator.high .bar-fill { background: var(--confidence-high); }
.confidence-indicator.medium .bar-fill { background: var(--confidence-medium); }
.confidence-indicator.low .bar-fill { background: var(--confidence-low); }
```

## 5.3 Human Context Callout

```html
<div class="human-context-callout">
  <div class="callout-icon">ğŸ‘¤</div>
  <div class="callout-content">
    <span class="callout-label">Your Context:</span>
    <p class="callout-text">"{{text}}"</p>
  </div>
</div>
```

```css
.human-context-callout {
  display: flex;
  gap: 12px;
  padding: 12px 16px;
  background: linear-gradient(135deg, var(--color-cream) 0%, var(--color-cream-subtle) 100%);
  border-left: 3px solid var(--color-bronze);
  border-radius: 0 6px 6px 0;
  margin: 12px 0;
}

.callout-icon { font-size: 18pt; }

.callout-label {
  font-size: 9pt;
  font-weight: 600;
  color: var(--color-bronze-dark);
  text-transform: uppercase;
}

.callout-text {
  font-size: 10pt;
  font-style: italic;
  color: var(--color-text-secondary);
  margin: 4px 0 0 0;
}
```

## 5.4 Source Attribution

```html
<div class="source-attribution">
  <span class="source-icon">ğŸ“Š</span>
  <span class="source-text">Source: {{source}}</span>
  <span class="source-confidence confidence-{{confidence_class}}">
    ({{confidence}}% reliability)
  </span>
</div>
```

```css
.source-attribution {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 8pt;
  color: var(--color-text-muted);
  padding: 4px 8px;
  background: var(--color-cream-subtle);
  border-radius: 4px;
}
```

## 5.5 Priority Badge

```css
.priority-badge {
  font-size: 8pt;
  font-weight: 600;
  text-transform: uppercase;
  padding: 4px 10px;
  border-radius: 4px;
}

.priority-high .priority-badge {
  background: var(--color-danger-bg);
  color: var(--color-danger);
}

.priority-medium .priority-badge {
  background: var(--color-warning-bg);
  color: var(--color-warning);
}

.priority-low .priority-badge {
  background: var(--color-info-bg);
  color: var(--color-info);
}
```

---

# 6. PDF Generation & Implementation

## 6.1 PDF Engine (Puppeteer)

```python
from pyppeteer import launch

async def generate_pdf(html_content: str, output_path: str):
    browser = await launch(headless=True, args=['--no-sandbox'])
    page = await browser.newPage()
    
    await page.setContent(html_content, waitUntil='networkidle0')
    
    await page.pdf({
        'path': output_path,
        'format': 'A4',
        'printBackground': True,
        'margin': {
            'top': '20mm',
            'right': '25mm',
            'bottom': '25mm',
            'left': '25mm'
        },
        'displayHeaderFooter': True,
        'headerTemplate': '''
            <div style="font-size: 9pt; color: #666; width: 100%; text-align: right; padding-right: 25mm;">
                RootRise Diagnostic Report
            </div>
        ''',
        'footerTemplate': '''
            <div style="font-size: 9pt; color: #666; width: 100%; text-align: center;">
                Page <span class="pageNumber"></span> of <span class="totalPages"></span>
            </div>
        '''
    })
    
    await browser.close()
```

## 6.2 Report Generation API

```python
from fastapi import APIRouter, BackgroundTasks
from pydantic import BaseModel
import uuid

router = APIRouter()

class ReportRequest(BaseModel):
    session_id: str
    report_type: str = "full"  # "executive", "full", "benchmarking", "action_plan"
    language: str = "en"

@router.post("/reports/generate")
async def generate_report(request: ReportRequest, background_tasks: BackgroundTasks):
    report_id = str(uuid.uuid4())
    
    background_tasks.add_task(
        generate_report_task,
        report_id=report_id,
        session_id=request.session_id,
        report_type=request.report_type,
        language=request.language
    )
    
    estimated_time = {
        "executive": 30,
        "full": 120,
        "benchmarking": 60,
        "action_plan": 45
    }.get(request.report_type, 60)
    
    return {
        "report_id": report_id,
        "status": "generating",
        "estimated_time_seconds": estimated_time
    }

@router.get("/reports/{report_id}/status")
async def get_report_status(report_id: str):
    status = await redis.get(f"report:{report_id}:status")
    
    if status == "completed":
        return {
            "status": "completed",
            "download_url": f"/api/reports/{report_id}/download"
        }
    return {"status": status or "generating"}
```

## 6.3 Template Engine Setup

```python
from jinja2 import Environment, FileSystemLoader

def setup_template_engine():
    env = Environment(
        loader=FileSystemLoader('templates/reports'),
        trim_blocks=True,
        lstrip_blocks=True
    )
    
    # Custom filters
    env.filters['score_class'] = lambda s: (
        'excellent' if s >= 80 else
        'good' if s >= 65 else
        'average' if s >= 50 else
        'needs-work'
    )
    
    env.filters['confidence_class'] = lambda c: (
        'high' if c >= 80 else
        'medium' if c >= 60 else
        'low'
    )
    
    return env
```

## 6.4 Report Data Assembly

```python
def assemble_report_data(session_id, agent_outputs, questionnaire_responses, language='en'):
    """Assemble all data needed for report template."""
    
    t = load_translations(language)
    dimension_scores = calculate_dimension_scores(agent_outputs)
    overall_score = calculate_overall_score(dimension_scores)
    
    all_findings = extract_all_findings(agent_outputs)
    strengths = [f for f in all_findings if f['type'] == 'strength']
    improvements = [f for f in all_findings if f['type'] == 'improvement']
    critical = [f for f in all_findings if f['type'] == 'critical']
    
    return {
        'language': language,
        't': t,
        'company_name': questionnaire_responses['BP_001'],
        'sector_name': get_sector_name(questionnaire_responses['BP_005'], language),
        'country_name': get_country_name(questionnaire_responses['BP_003'], language),
        'report_date': datetime.now().strftime('%B %d, %Y'),
        'report_id': f"RR-{session_id[:8].upper()}",
        
        'overall_score': overall_score,
        'overall_score_class': get_score_class(overall_score),
        'overall_confidence': calculate_overall_confidence(agent_outputs),
        
        'dimensions': format_dimensions(dimension_scores),
        'strengths': format_findings(strengths[:5], language),
        'improvements': format_findings(improvements[:5], language),
        'critical_issues': format_findings(critical, language),
        'has_critical_issues': len(critical) > 0,
        
        'top_recommendations': prioritize_recommendations(extract_recommendations(agent_outputs))[:5],
        
        'has_human_context': len(extract_human_context(questionnaire_responses)) > 0,
        'human_context_items': extract_human_context(questionnaire_responses),
        
        'data_completeness': calculate_data_completeness(questionnaire_responses),
        'data_gaps': get_data_gaps(questionnaire_responses),
        'has_data_gaps': len(get_data_gaps(questionnaire_responses)) > 0,
        
        'active_agents': get_active_agents(agent_outputs, language),
        'agent_findings': format_agent_findings(agent_outputs, language),
    }
```

## 6.5 Localization Keys

```yaml
# translations/en.yaml
executive_summary: "Executive Summary"
overall_health: "Overall Business Health"
key_findings: "Key Findings"
strengths: "Strengths"
areas_for_improvement: "Areas for Improvement"
critical_issues: "Critical Issues"
top_recommendations: "Top Recommendations"
confidence: "Confidence"
sector: "Sector"
country: "Country"
date: "Date"
ai_human_collaboration: "AI + Human Collaboration"
human_context_considered: "Your Context Considered"
data_quality: "Data Quality"
data_completeness: "Data Completeness"
powered_by: "Powered by"
disclaimer: "This report is generated by AI with human context. Validate with qualified advisors."
your_context: "Your Context"
source: "Source"

# translations/ar.yaml
executive_summary: "Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ°ÙŠ"
overall_health: "Ø§Ù„ØµØ­Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø£Ø¹Ù…Ø§Ù„"
key_findings: "Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"
strengths: "Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©"
areas_for_improvement: "Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„ØªØ­Ø³ÙŠÙ†"
critical_issues: "Ù…Ø´Ø§ÙƒÙ„ Ø­Ø±Ø¬Ø©"
top_recommendations: "Ø£Ù‡Ù… Ø§Ù„ØªÙˆØµÙŠØ§Øª"
confidence: "Ø§Ù„Ø«Ù‚Ø©"
sector: "Ø§Ù„Ù‚Ø·Ø§Ø¹"
country: "Ø§Ù„Ø¯ÙˆÙ„Ø©"
date: "Ø§Ù„ØªØ§Ø±ÙŠØ®"
ai_human_collaboration: "ØªØ¹Ø§ÙˆÙ† Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙˆØ§Ù„Ø¥Ù†Ø³Ø§Ù†"
```

## 6.6 File Structure

```
/templates
  /reports
    /components/         # Reusable HTML components
    /layouts/           # Base layouts
    executive-summary.html
    full-diagnostic.html
    benchmarking.html
    action-plan.html
  /styles/
    report-base.css
    report-components.css
    report-print.css
  /translations/
    en.yaml
    ar.yaml
  /assets/
    rootrise-logo.svg
    fonts/
```

---

# Quick Reference: Agent Icons & Names

| Agent | Icon | Name | Subtitle |
|-------|------|------|----------|
| Drucker | ğŸ¯ | The Drucker | Strategic Supervisor |
| Marvin | ğŸ” | The Marvin | Operations Sentinel |
| Graham | ğŸ’ | The Graham | Financial Alchemist |
| Ricardo | ğŸ§­ | The Ricardo | Export Navigator |
| Lovelace | ğŸ•¸ï¸ | The Lovelace | Digital Weaver |
| Mayo | ğŸŒ± | The Mayo | Workforce Cultivator |
| Ohno | ğŸŒŠ | The Ohno | Supply Chain Flow Master |
| Porter | â™Ÿï¸ | The Porter | Market Strategist |
| Landor | ğŸ“£ | The Landor | Brand Herald |
| Deming | ğŸ“Š | The Deming | Quality Orchestrator |
| Tufte | ğŸ“ˆ | The Tufte | Report Architect |

---

*Document Version: 1.0*
*Last Updated: December 2025*
*Author: RootRise Product Team*
